{"is_source_file": true, "format": "JavaScript", "description": "This is a JavaScript source file implementing an API client for a carpool management system. It provides functions for authentication, user management, rides, and calendar interactions, as well as utility functions.", "external_files": ["react", "react-dom", "react-router-dom"], "external_methods": ["fetch", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem"], "published": ["api", "formatDateRange"], "classes": [], "methods": [{"name": "buildHeaders(extra = {})", "description": "Constructs request headers with optional authorization token.", "scope": "", "scopeKind": ""}, {"name": "request(url, options = {})", "description": "Internal helper to perform fetch requests, handle JSON and errors.", "scope": "", "scopeKind": ""}, {"name": "api.login", "description": "Authenticates user and retrieves token."}, {"name": "api.me", "description": "Fetches current user profile."}, {"name": "api.createUser", "description": "Creates a new user."}, {"name": "api.listUsers", "description": "Lists all users."}, {"name": "api.getRidesMeta", "description": "Gets metadata about rides."}, {"name": "api.listRideOffers", "description": "Lists ride offers."}, {"name": "api.listRideRequests", "description": "Lists ride requests."}, {"name": "api.createRideOffer", "description": "Creates a new ride offer."}, {"name": "api.createRideRequest", "description": "Creates a ride request."}, {"name": "api.confirmRideRequest", "description": "Confirms a ride request with an offer."}, {"name": "api.cancelRideRequest", "description": "Cancels a ride request."}, {"name": "api.cancelRideOffer", "description": "Cancels a ride offer."}, {"name": "api.getEvents", "description": "Retrieves upcoming calendar events."}, {"name": "api.syncCalendar", "description": "Syncs user calendar source."}, {"name": "api.getAdminUsers", "description": "Admin fetch of all users."}, {"name": "api.getAdminRides", "description": "Admin fetch of all rides."}, {"name": "api.updateUserRole", "description": "Updates user's role."}, {"name": "formatDateRange(startISO, endISO)", "description": "Utility to format a start and end date range into a friendly string.", "scope": "", "scopeKind": ""}, {"name": "Calendar()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Card({ title, description })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dashboard()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "NotFound()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ProtectedRoute()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Sidebar()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "load()", "scope": "Calendar", "scopeKind": "function", "description": "unavailable"}], "search-terms": ["api", "auth", "rides", "calendar", "admin", "utility", "fetch", "token"], "state": 2, "file_id": 13, "knowledge_revision": 48, "git_revision": "cba3c13f98d9b2e4394fa40c7a151336e46de052", "revision_history": [{"28": ""}, {"31": "dd3f4ce4a278a2213a6a0df21376d910749e83f9"}, {"44": "5c23586310b0fc826d2f0660bbf6082c75065c13"}, {"47": "cba3c13f98d9b2e4394fa40c7a151336e46de052"}, {"48": "cba3c13f98d9b2e4394fa40c7a151336e46de052"}], "ctags": [{"_type": "tag", "name": "1", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^          min={1}$/", "language": "JavaScript", "kind": "field", "scope": "min", "scopeKind": "class"}, {"_type": "tag", "name": "30", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^          max={30}$/", "language": "JavaScript", "kind": "field", "scope": "max", "scopeKind": "class"}, {"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"http:\\/\\/localhost:8000\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Calendar", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^export default function Calendar() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Card", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^function Card({ title, description }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ title, description })"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^    \"Content-Type\": \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "buildHeaders.headers", "scopeKind": "class"}, {"_type": "tag", "name": "Dashboard", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^export default function Dashboard() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "NotFound", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^export default function NotFound() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ProtectedRoute", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^export default function ProtectedRoute() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Sidebar", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^export default function Sidebar() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "buildHeaders", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^function buildHeaders(extra = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(extra = {})"}, {"_type": "tag", "name": "cancelRideOffer", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  cancelRideOffer: async (offerId) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cancelRideRequest", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  cancelRideRequest: async (requestId) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "confirmRideRequest", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  confirmRideRequest: async (requestId, offerId) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createRideOffer", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  createRideOffer: async (payload) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createRideRequest", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  createRideRequest: async (payload) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createUser", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  createUser: async (payload) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "days", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^          value={days}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "formatDateRange", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^export function formatDateRange(startISO, endISO) {$/", "language": "JavaScript", "kind": "function", "signature": "(startISO, endISO)"}, {"_type": "tag", "name": "getAdminRides", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  getAdminRides: async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAdminUsers", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  getAdminUsers: async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getEvents", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  getEvents: async (days = 7, userId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getRidesMeta", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  getRidesMeta: async () => request(\"\\/rides\\/meta\", { method: \"GET\" }),$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "buildHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "listRideOffers", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  listRideOffers: async () => request(\"\\/rides\\/offers\", { method: \"GET\" }),$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listRideRequests", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  listRideRequests: async () => request(\"\\/rides\\/requests\", { method: \"GET\" }),$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listUsers", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  listUsers: async () => request(\"\\/users\", { method: \"GET\" }),$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "load", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^    async function load() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "Calendar", "scopeKind": "function"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  login: async (email, password) => {$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  me: async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^    const params = new URLSearchParams();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^async function request(url, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, options = {})"}, {"_type": "tag", "name": "syncCalendar", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  syncCalendar: async (userId, source) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateUserRole", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  updateUserRole: async (userId, role) => {$/", "language": "JavaScript", "kind": "constant"}], "hash": "51f1a54142ee03c5286332d053610e67", "format-version": 4, "code-base-name": "carpool_frontend", "filename": "carpool_frontend/src/services/apiClient.js", "fields": [{"name": "min={1}", "scope": "min", "scopeKind": "class", "description": "unavailable"}, {"name": "max={30}", "scope": "max", "scopeKind": "class", "description": "unavailable"}, {"name": "\"Content-Type\": \"application\\/json\",", "scope": "buildHeaders.headers", "scopeKind": "class", "description": "unavailable"}, {"name": "value={days}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "login: async (email, password) => {", "scope": "api", "scopeKind": "class", "description": "unavailable"}]}