{"is_source_file": true, "format": "JavaScript", "description": "This file serves as an API client utility for a carpool management system frontend. It provides functions to interact with backend endpoints related to authentication, user management, rides, calendar synchronization, and notifications, using fetch under the hood with automatic token handling.", "external_files": ["fetch API (built-in browser API)", "process.env (environment variables)"], "external_methods": ["fetch", "localStorage.getItem"], "published": ["api", "formatDateRange"], "classes": [], "methods": [{"name": "buildHeaders(extra = {})", "description": "Constructs headers for requests, including Authorization if a token exists.", "scope": "", "scopeKind": ""}, {"name": "request(url, options = {})", "description": "Performs fetch request with error handling and JSON/text response parsing.", "scope": "", "scopeKind": ""}, {"name": "listNotifications(userId)", "description": "Retrieves notifications for a specific user.", "scope": "", "scopeKind": ""}, {"name": "sendNotification(userId, title, body)", "description": "Sends a notification to a specific user.", "scope": "", "scopeKind": ""}, {"name": "testNotifications(target)", "description": "Tests notification functionality.", "scope": "", "scopeKind": ""}, {"name": "formatDateRange(startISO, endISO)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "buildHeaders", "request"], "search-terms": ["apiClient", "fetch", "notifications", "rides", "users", "auth", "calendar"], "state": 2, "file_id": 13, "knowledge_revision": 89, "git_revision": "bd9551127f545082fa84328c33cffa62dbba15f3", "revision_history": [{"28": ""}, {"31": "dd3f4ce4a278a2213a6a0df21376d910749e83f9"}, {"44": "5c23586310b0fc826d2f0660bbf6082c75065c13"}, {"47": "cba3c13f98d9b2e4394fa40c7a151336e46de052"}, {"48": "cba3c13f98d9b2e4394fa40c7a151336e46de052"}, {"71": "bd9551127f545082fa84328c33cffa62dbba15f3"}, {"89": "bd9551127f545082fa84328c33cffa62dbba15f3"}], "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"http:\\/\\/localhost:8000\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^    \"Content-Type\": \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "buildHeaders.headers", "scopeKind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "buildHeaders", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^function buildHeaders(extra = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(extra = {})"}, {"_type": "tag", "name": "cancelRideOffer", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  cancelRideOffer: async (offerId) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cancelRideRequest", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  cancelRideRequest: async (requestId) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "confirmRideRequest", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  confirmRideRequest: async (requestId, offerId) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createRideOffer", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  createRideOffer: async (payload) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createRideRequest", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  createRideRequest: async (payload) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createUser", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  createUser: async (payload) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "formatDateRange", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^export function formatDateRange(startISO, endISO) {$/", "language": "JavaScript", "kind": "function", "signature": "(startISO, endISO)"}, {"_type": "tag", "name": "getAdminRides", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  getAdminRides: async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAdminUsers", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  getAdminUsers: async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getEvents", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  getEvents: async (days = 7, userId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getRidesMeta", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  getRidesMeta: async () => request(\"\\/rides\\/meta\", { method: \"GET\" }),$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "buildHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "listNotifications", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  listNotifications,$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listNotifications", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^async function listNotifications(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "listRideOffers", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  listRideOffers: async () => request(\"\\/rides\\/offers\", { method: \"GET\" }),$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listRideRequests", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  listRideRequests: async () => request(\"\\/rides\\/requests\", { method: \"GET\" }),$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listUsers", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  listUsers: async () => request(\"\\/users\", { method: \"GET\" }),$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  login: async (email, password) => {$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  me: async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^    const params = new URLSearchParams();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^async function request(url, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, options = {})"}, {"_type": "tag", "name": "sendNotification", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  sendNotification,$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sendNotification", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^async function sendNotification(userId, title, body) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, title, body)"}, {"_type": "tag", "name": "syncCalendar", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  syncCalendar: async (userId, source) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "testNotifications", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  testNotifications,$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "testNotifications", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^async function testNotifications(target) {$/", "language": "JavaScript", "kind": "function", "signature": "(target)"}, {"_type": "tag", "name": "updateUserRole", "path": "/home/kavia/workspace/code-generation/carpool-management-system-161732-161741/carpool_frontend/src/services/apiClient.js", "pattern": "/^  updateUserRole: async (userId, role) => {$/", "language": "JavaScript", "kind": "constant"}], "hash": "c1c7c81eb05651f1246f0bd9f08faf38", "format-version": 4, "code-base-name": "carpool_frontend", "filename": "carpool_frontend/src/services/apiClient.js", "fields": [{"name": "\"Content-Type\": \"application\\/json\",", "scope": "buildHeaders.headers", "scopeKind": "class", "description": "unavailable"}, {"name": "login: async (email, password) => {", "scope": "api", "scopeKind": "class", "description": "unavailable"}]}